# `git diff`

- [ã‚ˆãã¾ã¨ã¾ã£ã¦ã„ãŸè¨˜äº‹](https://qiita.com/rana_kualu/items/09d2dd379019b8ef0335)ã«è©³ç´°ã‚’è­²ã‚‹
- ã“ã‚Œã¾ã§ VSCode ã®å·®åˆ†æ¯”è¼ƒã—ã‹ä½¿ã£ãŸã“ã¨ãŒãªã‹ã£ãŸï¼ˆãã‚Œã§äº‹è¶³ã‚Šã¦ã„ãŸï¼‰
  - ã‚³ãƒãƒ³ãƒ‰ã§ã—ã‹ã§ããªã„ä¾¿åˆ©ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã£ã¦ã‚ã‚‹ã®ï¼Ÿã‚’èã„ã¦ã¿ãŸã„

# `git status`

[git status -s ã§ã¡ã‚‡ã£ã¨å¹¸ã›ã«ãªã‚Œã‚‹ - Qiita](https://qiita.com/tommy_aka_jps/items/af536a7c20747f99aa42)

```bash
# -s ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ï¼ˆshortï¼‰ã®ç•¥ï¼šçŸ­ãå‡ºåŠ›ã—ã¦ãã‚Œã‚‹ã®ã§ã¡ã‚‡ã£ã¨å¹¸ã›ã«ãªã‚‹
git status -s
```

# `git add -p`

[Git - å¯¾è©±çš„ãªã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°](https://git-scm.com/book/ja/v2/Git-%E3%81%AE%E3%81%95%E3%81%BE%E3%81%96%E3%81%BE%E3%81%AA%E3%83%84%E3%83%BC%E3%83%AB-%E5%AF%BE%E8%A9%B1%E7%9A%84%E3%81%AA%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0)

- `-p` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ‘ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã®ç•¥

  - `git add -p` ã§ 1 ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã™ã‚‹ã‹èã„ã¦ãã‚Œã‚‹

    - ãã“ã§æ“ä½œã‚’é¸ã¹ã‚‹

      ```bash
      (1/1) Stage this hunk [y,n,q,a,d,e,?]? ?
      y - stage this hunk
      n - do not stage this hunk
      q - quit; do not stage this hunk or any of the remaining ones
      a - stage this hunk and all later hunks in the file
      d - do not stage this hunk or any of the later hunks in the file
      e - manually edit the current hunk
      ? - print help
      ```

      | é¸æŠè‚¢     | æ„å‘³                                                                                            |
      | ---------- | ----------------------------------------------------------------------------------------------- |
      | y (yes)    | ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ add ã™ã‚‹                                                                         |
      | n (no)     | ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ add ã—ãªã„                                                                       |
      | q (quit)   | ãƒ‘ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æŠœã‘ã‚‹ ï¼ˆ\* y ã‚’é¸æŠã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Œã° add ã•ã‚ŒãŸçŠ¶æ…‹ã§ãƒ‘ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æŠœã‘ã‚‹ |
      | a (all)    | y ã¨ã®é•ã„ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸ                                                                  |
      | d (delete) | n ã¨ã®é•ã„ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸ                                                                  |
      | e (edit)   | æ‰‹å‹•ã§ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã™ã‚‹ç®‡æ‰€ã‚’é¸ã¶ï¼ˆ\* ä»Šå›ã®ä¸»å½¹ï¼‰                                               |
      | ?          | ä¸Šè¨˜ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¡¨ç¤º                                                                            |

    - `e` ã‚’æ“ä½œã™ã‚‹ã¨ vim ãŒèµ·å‹•
    - ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã—ãŸããªã„ç®‡æ‰€ã‚’å‰Šé™¤ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
    - å‰Šé™¤ã—ãªã‹ã£ãŸç®‡æ‰€ã®ã¿ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã•ã‚Œã‚‹

  ## ãŠã¾ã‘ï¼š `git add -i`

  - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ã‚‚ä¾¿åˆ©ãã†ã ã£ãŸ
  - GUI ã§ã½ã¡ã½ã¡ã‚„ã£ã¦ã„ãŸã‘ã©ã€Vimmer ã«ãªã‚‹ã«ã¯ä½¿ã„ã“ãªã—ãŸã„ï¼ˆï¼Ÿï¼‰

    - `git add -i` ã‚’ã™ã‚‹ã¨æ¬¡ã®æ“ä½œã‚’é¸ã¹ã¨å‡ºã¦ãã‚‹

      1: status 2: update 3: revert 4: add untracked
      5: patch 6: diff 7: quit 8: help

    - ã‚ˆãä½¿ã„ãã†ãªã‚‚ã®
      - `update`ã¯ã€ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ 1 ã¤ãšã¤é¸ã‚“ã§ add ã§ãã‚‹
      - `revert`ã¯ã€add ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ 1 ã¤ãšã¤é¸ã‚“ã§ reset ã§ãã‚‹
      - `add untracked`ã¯ã€æ–°è¦è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ 1 ã¤ãšã¤é¸ã‚“ã§ add ã§ãã‚‹
      - `patch`ã¯ã€å‰è¿°ã®é€šã‚Šãƒ•ã‚¡ã‚¤ãƒ«å†…ã‹ã‚‰æŒ‡å®šç®‡æ‰€ã‚’ add ã§ãã‚‹

# `git stash`

- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã¾ãªã„ã®ã§ã€`git stash -u` ã§æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ã‚‚é€€é¿ã™ã‚‹
  - `-u` ã¯ `â€”include-untracked` ã®ç•¥
- `git stash list`ã§é€€é¿ä¸­ã®ä½œæ¥­ã‚’ç¢ºèªã™ã‚‹

  ```bash
  â¯ git stash list
  stash@{0}: WIP on master: 9f609d9 add: test
  ```

- `git stash apply stash@{0}` ã§é€€é¿ä¸­ã®ä½œæ¥­ã‚’å…ƒã«æˆ»ã™

  ```bash
  â¯ git stash apply stash@{0}
  On branch master
  Changes not staged for commit:
    (use "git add <file>..." to update what will be committed)
    (use "git restore <file>..." to discard changes in working directory)
  	modified:   index.css
  	modified:   index.html
  ```

# `git log <path>`

- ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’ç¢ºèªã§ãã‚‹

# `git rebase`

<aside>
ğŸ’¡ **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**

1 - ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’ä¸€ç›´ç·šã«ã™ã‚‹
2 - è¤‡æ•°ã‚³ãƒŸãƒƒãƒˆã‚’ã¾ã¨ã‚ã‚‹

**æ³¨æ„ç‚¹**
ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿ã§ä½¿ç”¨ã™ã‚‹ï¼ˆãƒªãƒ¢ãƒ¼ãƒˆã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’æ”¹å¤‰ã™ã‚‹ã¨æ··ä¹±ã‚’æ‹›ãï¼‰

</aside>

[ã“ã‚Œã§å®Œç’§! å›³è§£ã§ã‚ã‹ã‚‹ git rebase ã® 2 ã¤ã®ä½¿ã„æ–¹! | ä¾ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ–ãƒ­ã‚°](https://www.sejuku.net/blog/71919)

## ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’ä¸€ç›´ç·šã«ã™ã‚‹

[ã€åˆå¿ƒè€…å‘ã‘ã€‘git rebase ã®åŸºæœ¬](https://zenn.dev/mikaneko/articles/0fe1daf2e8a987)

1. `git rebase <branch>` : ç¾åœ¨ã®ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã®é–‹å§‹åœ°ç‚¹ã«ã€æœ€æ–°ã®å¤‰æ›´ã‚’å–ã‚Šè¾¼ã‚€
   1. ãã®å¾Œã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚ã‚Œã°å¯¾å¿œãƒ»ãƒ»ãƒ»

## è¤‡æ•°ã‚³ãƒŸãƒƒãƒˆã‚’ã¾ã¨ã‚ã‚‹

[[å°ãƒã‚¿]git rebase ã§ã‚³ãƒŸãƒƒãƒˆã‚’ã¾ã¨ã‚ã‚‹ | DevelopersIO](https://dev.classmethod.jp/articles/putting-together-commits-with-git-rebase/)

1. `git rebae -i HEAD~5` : ç›´è¿‘ 5 ã¤ã®ã‚³ãƒŸãƒƒãƒˆã‚’ç·¨é›†ã™ã‚‹ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚‹ï¼ˆVim èµ·å‹•ï¼‰
2. `pick` ãªã©ã®ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’å¤‰æ›´

   - ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹

     | pick   | ä½•ã‚‚ã—ãªã„     |
     | ------ | -------------- |
     | squash | çµ±åˆã™ã‚‹       |
     | fixup  | 1 ã¤ã«ã¾ã¨ã‚ã‚‹ |
     | drop   | å‰Šé™¤ã™ã‚‹       |

3. ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã—ã¦çµ‚äº†
4. ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¨ä¿®æ­£ã•ã‚Œã¦ã„ã‚‹

# `git chekout -b <branch>`

<aside>
ğŸ’¡ ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’ç”Ÿã‚„ã™

</aside>

# `git clone --depth 1 <URL>`

<aside>
ğŸ’¡ æœ€æ–°å±¥æ­´ã ã‘ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹ï¼ˆï¼Šshallow cloneã¨å‘¼ã°ã‚Œã€é€Ÿã„ã“ã¨ãŒãƒ¡ãƒªãƒƒãƒˆï¼‰

</aside>

# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆå¯¾å¿œ

<aside>
ğŸ’¡ ã†ã¾ãã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ¶ˆã™ã‚‹ã®ãŒä¸€ç•ªã ãŒã€ã“ã“ã§ã¯ã¨ã‚Šã‚ãˆãšå…ƒã«æˆ»ã™æ–¹æ³•

</aside>

## ã€å‰æã€‘fetch, merge, pull ã«ã¤ã„ã¦

[ã€åˆå¿ƒè€…å‘ã‘ã€‘git fetchã€git mergeã€git pull ã®é•ã„ã«ã¤ã„ã¦ - Qiita](https://qiita.com/wann/items/688bc17460a457104d7d)

- master ãƒ–ãƒ©ãƒ³ãƒã¯ï¼“ç¨®é¡
  - ãƒªãƒ¢ãƒ¼ãƒˆã® `master` ãƒ–ãƒ©ãƒ³ãƒ
  - ãƒ­ãƒ¼ã‚«ãƒ«ã® `origin/master` **è¿½è·¡ãƒ–ãƒ©ãƒ³ãƒ**ï¼ˆãƒªãƒ¢ãƒ¼ãƒˆã® master ãƒ–ãƒ©ãƒ³ãƒã‚’è¿½è·¡ã™ã‚‹ï¼‰
  - ãƒ­ãƒ¼ã‚«ãƒ«ã® `master` ãƒ–ãƒ©ãƒ³ãƒ
- master ãƒ–ãƒ©ãƒ³ãƒã®æƒ…å ±ã‚’å–ã‚Šè¾¼ã‚€

  - `fetch`: ãƒªãƒ¢ãƒ¼ãƒˆã® master â†’ ãƒ­ãƒ¼ã‚«ãƒ«ã® origin/master ã¸
  - `merge`: ãƒ­ãƒ¼ã‚«ãƒ«ã® origin/master â†’ ãƒ­ãƒ¼ã‚«ãƒ«ã® master ã¸
  - `pull`: ãƒªãƒ¢ãƒ¼ãƒˆã® master â†’ ãƒ­ãƒ¼ã‚«ãƒ«ã® master ã¸ï¼ˆ`fetch` + `merge` ã‚’åŒæ™‚ã«è¡Œã†ï¼‰

  ```bash
  # ex1.
  $ git fetch origin master
  $ git merge origin/master

  # ex2. (1ã¨åŒç¾©ï¼‰
  $ git pull origin master
  ```

## 1. `fetch` ã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸã¨ã

ãƒ­ãƒ¼ã‚«ãƒ«ã® master ã¯æ›´æ–°ã•ã‚Œã¦ã„ãªã„ã®ã§ã€ç›´å‰ã®ã‚³ãƒŸãƒƒãƒˆã¾ã§æˆ»ã£ã¦ãªã‹ã£ãŸã“ã¨ã«ã™ã‚‹

```bash
$ git reset --hard HEAD
```

## 2. `pull` ã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸã¨ã

1. ãƒãƒ¼ã‚¸ã‚’å–ã‚Šæ¶ˆã™

   ```bash
   $ git merge --abort
   ```

2. ç›´å‰ã®ã‚³ãƒŸãƒƒãƒˆã¾ã§æˆ»ã£ã¦ãªã‹ã£ãŸã“ã¨ã«ã™ã‚‹

   ```bash
   $ git reset --hard HEAD
   ```

# ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¤ãã£ã¦ã¿ãŸ

ã„ã„æ©Ÿä¼šã ã£ãŸã®ã§ï¼ï¼ˆï¼Šã©ã®ãã‚‰ã„å¿˜ã‚Œãšã«ä½¿ã„ã“ãªã›ã‚‹ã‹ã‚ã‹ã‚‰ãªã„ï¼‰

| ss  | status      |
| --- | ----------- |
| co  | checkout    |
| cm  | commit -m   |
| adp | add -p      |
| rsa | resset .    |
| st  | stash       |
| stu | stash -u    |
| stl | stash list  |
| sta | stash apply |
